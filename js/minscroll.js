!function(){var activeElement,observer,refreshSize,deltaBufferTimer,defaultOptions={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},options=defaultOptions,isExcluded=!1,isFrame=!1,direction={x:0,y:0},initDone=!1,root=document.documentElement,deltaBuffer=[],isMac=/^Mac/.test(navigator.platform),key={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},arrowKeys={37:1,38:1,39:1,40:1};function init(){if(!initDone&&document.body){initDone=!0;var body=document.body,html=document.documentElement,windowHeight=window.innerHeight,scrollHeight=body.scrollHeight;if(root=0<=document.compatMode.indexOf("CSS")?html:body,activeElement=body,options.keyboardSupport&&addEvent("keydown",keydown),top!=self)isFrame=!0;else if(isOldSafari&&windowHeight<scrollHeight&&(body.offsetHeight<=windowHeight||html.offsetHeight<=windowHeight)){var pendingRefresh,fullPageElem=document.createElement("div");fullPageElem.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+root.scrollHeight+"px",document.body.appendChild(fullPageElem),refreshSize=function(){pendingRefresh=pendingRefresh||setTimeout(function(){isExcluded||(fullPageElem.style.height="0",fullPageElem.style.height=root.scrollHeight+"px",pendingRefresh=null)},500)},setTimeout(refreshSize,10),addEvent("resize",refreshSize);if((observer=new MutationObserver(refreshSize)).observe(body,{attributes:!0,childList:!0,characterData:!1}),root.offsetHeight<=windowHeight){var clearfix=document.createElement("div");clearfix.style.clear="both",body.appendChild(clearfix)}}options.fixedBackground||isExcluded||(body.style.backgroundAttachment="scroll",html.style.backgroundAttachment="scroll")}}var que=[],pending=!1,lastScroll=Date.now();function scrollArray(elem,left,top){var x,y;if(x=0<(x=left)?1:-1,y=0<(y=top)?1:-1,direction.x===x&&direction.y===y||(direction.x=x,direction.y=y,que=[],lastScroll=0),1!=options.accelerationMax){var elapsed=Date.now()-lastScroll;if(elapsed<options.accelerationDelta){var factor=(1+50/elapsed)/2;1<factor&&(factor=Math.min(factor,options.accelerationMax),left*=factor,top*=factor)}lastScroll=Date.now()}if(que.push({x:left,y:top,lastX:left<0?.99:-.99,lastY:top<0?.99:-.99,start:Date.now()}),!pending){var scrollRoot=getScrollRoot(),isWindowScroll=elem===scrollRoot||elem===document.body;null==elem.$scrollBehavior&&function(el){var id=uniqueID(el);if(null==smoothBehaviorForElement[id]){var scrollBehavior=getComputedStyle(el,"")["scroll-behavior"];smoothBehaviorForElement[id]="smooth"==scrollBehavior}return smoothBehaviorForElement[id]}(elem)&&(elem.$scrollBehavior=elem.style.scrollBehavior,elem.style.scrollBehavior="auto");var step=function(time){for(var now=Date.now(),scrollX=0,scrollY=0,i=0;i<que.length;i++){var item=que[i],elapsed=now-item.start,finished=elapsed>=options.animationTime,position=finished?1:elapsed/options.animationTime;options.pulseAlgorithm&&(position=pulse(position));var x=item.x*position-item.lastX>>0,y=item.y*position-item.lastY>>0;scrollX+=x,scrollY+=y,item.lastX+=x,item.lastY+=y,finished&&(que.splice(i,1),i--)}isWindowScroll?window.scrollBy(scrollX,scrollY):(scrollX&&(elem.scrollLeft+=scrollX),scrollY&&(elem.scrollTop+=scrollY)),left||top||(que=[]),que.length?requestFrame(step,elem,1e3/options.frameRate+1):(pending=!1,null!=elem.$scrollBehavior&&(elem.style.scrollBehavior=elem.$scrollBehavior,elem.$scrollBehavior=null))};requestFrame(step,elem,0),pending=!0}}function wheel(event){initDone||init();var target=event.target;if(event.defaultPrevented||event.ctrlKey)return!0;if(isNodeName(activeElement,"embed")||isNodeName(target,"embed")&&/\.pdf/i.test(target.src)||isNodeName(activeElement,"object")||target.shadowRoot)return!0;var deltaX=-event.wheelDeltaX||event.deltaX||0,deltaY=-event.wheelDeltaY||event.deltaY||0;isMac&&(event.wheelDeltaX&&isDivisible(event.wheelDeltaX,120)&&(deltaX=event.wheelDeltaX/Math.abs(event.wheelDeltaX)*-120),event.wheelDeltaY&&isDivisible(event.wheelDeltaY,120)&&(deltaY=event.wheelDeltaY/Math.abs(event.wheelDeltaY)*-120)),deltaX||deltaY||(deltaY=-event.wheelDelta||0),1===event.deltaMode&&(deltaX*=40,deltaY*=40);var overflowing=overflowingAncestor(target);return overflowing?!!function(deltaY){if(!deltaY)return;deltaBuffer.length||(deltaBuffer=[deltaY,deltaY,deltaY]);deltaY=Math.abs(deltaY),deltaBuffer.push(deltaY),deltaBuffer.shift(),clearTimeout(deltaBufferTimer),deltaBufferTimer=setTimeout(function(){try{localStorage.SS_deltaBuffer=deltaBuffer.join(",")}catch(e){}},1e3);var dpiScaledWheelDelta=120<deltaY&&allDeltasDivisableBy(deltaY);return!allDeltasDivisableBy(120)&&!allDeltasDivisableBy(100)&&!dpiScaledWheelDelta}(deltaY)||(1.2<Math.abs(deltaX)&&(deltaX*=options.stepSize/120),1.2<Math.abs(deltaY)&&(deltaY*=options.stepSize/120),scrollArray(overflowing,deltaX,deltaY),event.preventDefault(),void scheduleClearCache()):!isFrame||!isChrome||(Object.defineProperty(event,"target",{value:window.frameElement}),parent.wheel(event))}function keydown(event){var target=event.target,modifier=event.ctrlKey||event.altKey||event.metaKey||event.shiftKey&&event.keyCode!==key.spacebar;document.body.contains(activeElement)||(activeElement=document.activeElement);var buttonTypes=/^(button|submit|radio|checkbox|file|color|image)$/i;if(event.defaultPrevented||/^(textarea|select|embed|object)$/i.test(target.nodeName)||isNodeName(target,"input")&&!buttonTypes.test(target.type)||isNodeName(activeElement,"video")||function(event){var elem=event.target,isControl=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(isControl=elem.classList&&elem.classList.contains("html5-video-controls"))break}while(elem=elem.parentNode);return isControl}(event)||target.isContentEditable||modifier)return!0;if((isNodeName(target,"button")||isNodeName(target,"input")&&buttonTypes.test(target.type))&&event.keyCode===key.spacebar)return!0;if(isNodeName(target,"input")&&"radio"==target.type&&arrowKeys[event.keyCode])return!0;var x=0,y=0,overflowing=overflowingAncestor(activeElement);if(!overflowing)return!isFrame||!isChrome||parent.keydown(event);var clientHeight=overflowing.clientHeight;switch(overflowing==document.body&&(clientHeight=window.innerHeight),event.keyCode){case key.up:y=-options.arrowScroll;break;case key.down:y=options.arrowScroll;break;case key.spacebar:y=-(event.shiftKey?1:-1)*clientHeight*.9;break;case key.pageup:y=.9*-clientHeight;break;case key.pagedown:y=.9*clientHeight;break;case key.home:overflowing==document.body&&document.scrollingElement&&(overflowing=document.scrollingElement),y=-overflowing.scrollTop;break;case key.end:var scrollRemaining=overflowing.scrollHeight-overflowing.scrollTop-clientHeight;y=0<scrollRemaining?10+scrollRemaining:0;break;case key.left:x=-options.arrowScroll;break;case key.right:x=options.arrowScroll;break;default:return!0}scrollArray(overflowing,x,y),event.preventDefault(),scheduleClearCache()}function mousedown(event){activeElement=event.target}var i,clearCacheTimer,uniqueID=(i=0,function(el){return el.uniqueID||(el.uniqueID=i++)}),cacheX={},cacheY={},smoothBehaviorForElement={};function scheduleClearCache(){clearTimeout(clearCacheTimer),clearCacheTimer=setInterval(function(){cacheX=cacheY=smoothBehaviorForElement={}},1e3)}function setCache(elems,overflowing,x){for(var cache=x?cacheX:cacheY,i=elems.length;i--;)cache[uniqueID(elems[i])]=overflowing;return overflowing}function getCache(el,x){return(x?cacheX:cacheY)[uniqueID(el)]}function overflowingAncestor(el){var elems=[],body=document.body,rootScrollHeight=root.scrollHeight;do{var cached=getCache(el,!1);if(cached)return setCache(elems,cached);if(elems.push(el),rootScrollHeight===el.scrollHeight){var isOverflowCSS=overflowNotHidden(root)&&overflowNotHidden(body)||overflowAutoOrScroll(root);if(isFrame&&isContentOverflowing(root)||!isFrame&&isOverflowCSS)return setCache(elems,getScrollRoot())}else if(isContentOverflowing(el)&&overflowAutoOrScroll(el))return setCache(elems,el)}while(el=el.parentElement)}function isContentOverflowing(el){return el.clientHeight+10<el.scrollHeight}function overflowNotHidden(el){return"hidden"!==getComputedStyle(el,"").getPropertyValue("overflow-y")}function overflowAutoOrScroll(el){var overflow=getComputedStyle(el,"").getPropertyValue("overflow-y");return"scroll"===overflow||"auto"===overflow}function addEvent(type,fn,arg){window.addEventListener(type,fn,arg||!1)}function removeEvent(type,fn,arg){window.removeEventListener(type,fn,arg||!1)}function isNodeName(el,tag){return el&&(el.nodeName||"").toLowerCase()===tag.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{deltaBuffer=localStorage.SS_deltaBuffer.split(",")}catch(e){}function isDivisible(n,divisor){return Math.floor(n/divisor)==n/divisor}function allDeltasDivisableBy(divisor){return isDivisible(deltaBuffer[0],divisor)&&isDivisible(deltaBuffer[1],divisor)&&isDivisible(deltaBuffer[2],divisor)}var SCROLL_ROOT,requestFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback,element,delay){window.setTimeout(callback,delay||1e3/60)},MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,getScrollRoot=(SCROLL_ROOT=document.scrollingElement,function(){if(!SCROLL_ROOT){var dummy=document.createElement("div");dummy.style.cssText="height:10000px;width:1px;",document.body.appendChild(dummy);var bodyScrollTop=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),SCROLL_ROOT=document.body.scrollTop!=bodyScrollTop?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(dummy)}return SCROLL_ROOT});function pulse_(x){var start;return((x*=options.pulseScale)<1?x-(1-Math.exp(-x)):(--x,(start=Math.exp(-1))+(1-Math.exp(-x))*(1-start)))*options.pulseNormalize}function pulse(x){return 1<=x?1:x<=0?0:(1==options.pulseNormalize&&(options.pulseNormalize/=pulse_(1)),pulse_(x))}var userAgent=window.navigator.userAgent,isEdge=/Edge/.test(userAgent),isChrome=/chrome/i.test(userAgent)&&!isEdge,isSafari=/safari/i.test(userAgent)&&!isEdge,isMobile=/mobile/i.test(userAgent),isIEWin7=/Windows NT 6.1/i.test(userAgent)&&/rv:11/i.test(userAgent),isOldSafari=isSafari&&(/Version\/8/i.test(userAgent)||/Version\/9/i.test(userAgent)),isEnabledForBrowser=(isChrome||isSafari||isIEWin7)&&!isMobile,supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}}))}catch(e){}var wheelOpt=!!supportsPassive&&{passive:!1},wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel";function SmoothScroll(optionsToSet){for(var key in optionsToSet)defaultOptions.hasOwnProperty(key)&&(options[key]=optionsToSet[key])}wheelEvent&&isEnabledForBrowser&&(addEvent(wheelEvent,wheel,wheelOpt),addEvent("mousedown",mousedown),addEvent("load",init)),SmoothScroll.destroy=function(){observer&&observer.disconnect(),removeEvent(wheelEvent,wheel),removeEvent("mousedown",mousedown),removeEvent("keydown",keydown),removeEvent("resize",refreshSize),removeEvent("load",init)},window.SmoothScrollOptions&&SmoothScroll(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return SmoothScroll}):"object"==typeof exports?module.exports=SmoothScroll:window.SmoothScroll=SmoothScroll}();